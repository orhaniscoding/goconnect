# GoConnect Server Configuration
# Copy this file to .env and fill in your values

# ============================================================
# Server Configuration
# ============================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=15s
SERVER_WRITE_TIMEOUT=15s
SERVER_IDLE_TIMEOUT=60s
ENVIRONMENT=development  # development or production

# ============================================================
# PostgreSQL Database Configuration
# ============================================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_NAME=goconnect
DB_SSLMODE=disable  # disable, require, verify-ca, verify-full
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# ============================================================
# JWT Token Configuration
# ============================================================
# CRITICAL: Generate a secure random key (minimum 32 characters)
# Example: openssl rand -base64 48
JWT_SECRET=CHANGE_ME_TO_A_SECURE_RANDOM_KEY_AT_LEAST_32_CHARACTERS_LONG
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=168h  # 7 days
# JWT_REFRESH_SECRET=  # Optional: separate key for refresh tokens

# ============================================================
# WireGuard Configuration
# ============================================================
# CRITICAL: Server's public endpoint accessible to clients
WG_SERVER_ENDPOINT=vpn.example.com:51820
# CRITICAL: Server's WireGuard public key (44 characters base64)
# Generate with: wg genkey | wg pubkey
WG_SERVER_PUBKEY=gOqRLN7xqkK7xKJGVz8M3bKhq8tZ6vS4r9pW3nA1bXY=
WG_DNS=1.1.1.1, 1.0.0.1
WG_MTU=1420
WG_KEEPALIVE=25

# ============================================================
# Audit Logging Configuration
# ============================================================
# AUDIT_SQLITE_DSN=./audit.db  # Optional: SQLite path for audit logs
# AUDIT_HASH_SECRETS_B64=  # Optional: comma-separated base64 secrets for hashing
AUDIT_ASYNC=true
AUDIT_QUEUE_SIZE=1024
AUDIT_WORKER_COUNT=1
AUDIT_FLUSH_INTERVAL=1s

# ============================================================
# CORS Configuration
# ============================================================
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=12h

# ============================================================
# Migrations
# ============================================================
MIGRATIONS_PATH=./migrations
